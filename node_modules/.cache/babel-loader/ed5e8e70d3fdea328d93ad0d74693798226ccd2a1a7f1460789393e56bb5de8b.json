{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arnol\\\\OneDrive\\\\2018 - 2020\\\\Escritorio\\\\2026\\\\Sistemas\\\\Control Aceite\\\\src\\\\components\\\\FormRecoleccion.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from '../utils/supabaseClient';\nimport { Droplet, Plus, X } from 'lucide-react';\nimport './FormRecoleccion.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FormRecoleccion() {\n  _s();\n  const [lugares, setLugares] = useState([]);\n  const [lugarActual, setLugarActual] = useState(null);\n  const [bidones, setBidones] = useState([{\n    id: 1,\n    cantidad: ''\n  }]);\n  const [loading, setLoading] = useState(false);\n  const [mensaje, setMensaje] = useState('');\n  const [iniciado, setIniciado] = useState(false);\n\n  // CICLO\n  const [cicloActual, setCicloActual] = useState(null);\n  const [mostrarModalCiclo, setMostrarModalCiclo] = useState(true);\n  const [personaResponsable, setPersonaResponsable] = useState('');\n  const [nombreCiclo, setNombreCiclo] = useState('');\n  const [resumenCiclo, setResumenCiclo] = useState({\n    totalLibras: 0,\n    lugaresVisitados: [],\n    recolecciones: []\n  });\n\n  // SELECTOR LUGAR\n  const [indexActual, setIndexActual] = useState(0);\n  useEffect(() => {\n    cargarLugares();\n  }, []);\n  const cargarLugares = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from('lugares').select('*').order('id');\n    if (error) {\n      console.error('Error:', error);\n      return;\n    }\n    if (data && data.length > 0) {\n      setLugares(data);\n    }\n  };\n\n  // Generar nombre autom√°tico del ciclo\n  const generarNombreCiclo = () => {\n    const ahora = new Date();\n    const meses = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];\n    const mes = meses[ahora.getMonth()];\n    const ano = ahora.getFullYear();\n    return `${mes} ${ano}`;\n  };\n  const crearCiclo = async () => {\n    if (!personaResponsable.trim()) {\n      setMensaje('‚ùå Ingresa el nombre de la persona responsable');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Obtener ciclos del mes actual para saber el n√∫mero\n      const mesAno = generarNombreCiclo();\n      const {\n        data: ciclosExistentes,\n        error: errorBusqueda\n      } = await supabase.from('ciclos_recoleccion').select('numero_ciclo').eq('mes_ano', mesAno);\n      if (errorBusqueda) throw errorBusqueda;\n      const numeroCiclo = ((ciclosExistentes === null || ciclosExistentes === void 0 ? void 0 : ciclosExistentes.length) || 0) + 1;\n      const nombreCompleto = `${mesAno} - Ciclo ${numeroCiclo}`;\n\n      // Crear ciclo\n      const {\n        data,\n        error\n      } = await supabase.from('ciclos_recoleccion').insert([{\n        nombre: nombreCompleto,\n        mes_ano: mesAno,\n        numero_ciclo: numeroCiclo,\n        persona_responsable: personaResponsable,\n        estado: 'Abierto',\n        total_libras: 0,\n        total_lugares: 0\n      }]).select();\n      if (error) throw error;\n      setCicloActual(data[0]);\n      setNombreCiclo(nombreCompleto);\n      setMostrarModalCiclo(false);\n      setIniciado(true);\n      setMensaje(`‚úÖ Ciclo creado: ${nombreCompleto}`);\n      setTimeout(() => setMensaje(''), 2000);\n    } catch (error) {\n      setMensaje('‚ùå Error: ' + error.message);\n    }\n    setLoading(false);\n  };\n  const iniciarRecoleccion = lugarSeleccionado => {\n    const index = lugares.findIndex(l => l.id === lugarSeleccionado.id);\n    setIndexActual(index);\n    setLugarActual(lugarSeleccionado);\n    setBidones([{\n      id: 1,\n      cantidad: ''\n    }]);\n  };\n  const handleBidonChange = (index, valor) => {\n    const nuevosBidones = [...bidones];\n    nuevosBidones[index].cantidad = valor;\n    if (valor && index === bidones.length - 1) {\n      nuevosBidones.push({\n        id: bidones.length + 1,\n        cantidad: ''\n      });\n    }\n    setBidones(nuevosBidones);\n  };\n  const eliminarBidon = index => {\n    if (bidones.length > 1) {\n      const nuevosBidones = bidones.filter((_, i) => i !== index);\n      nuevosBidones.forEach((bidon, i) => {\n        bidon.id = i + 1;\n      });\n      setBidones(nuevosBidones);\n    }\n  };\n  const calcularTotal = () => {\n    return bidones.reduce((sum, bidon) => {\n      return sum + (parseFloat(bidon.cantidad) || 0);\n    }, 0);\n  };\n  const guardarRecoleccion = async () => {\n    if (!lugarActual) {\n      setMensaje('‚ùå Selecciona un lugar');\n      return;\n    }\n    const bidonesConCantidad = bidones.filter(b => b.cantidad && parseFloat(b.cantidad) > 0);\n    if (bidonesConCantidad.length === 0) {\n      setMensaje('‚ùå Ingresa al menos una cantidad');\n      return;\n    }\n    setLoading(true);\n    setMensaje('');\n    try {\n      let totalGuardado = 0;\n      for (const bidon of bidonesConCantidad) {\n        const {\n          error\n        } = await supabase.from('recepciones').insert([{\n          lugar_id: lugarActual.id,\n          tipo_aceite: 'Aceite Quemado',\n          cantidad: parseFloat(bidon.cantidad),\n          observaciones: `Bid√≥n #${bidon.id}`,\n          fecha_recepcion: new Date().toISOString(),\n          recolector_nombre: personaResponsable,\n          ciclo_id: cicloActual.id\n        }]);\n        if (error) throw error;\n        totalGuardado += parseFloat(bidon.cantidad);\n      }\n\n      // Actualizar resumen del ciclo\n      const nuevoResumen = {\n        ...resumenCiclo\n      };\n      nuevoResumen.totalLibras += totalGuardado;\n      if (!nuevoResumen.lugaresVisitados.includes(lugarActual.nombre)) {\n        nuevoResumen.lugaresVisitados.push(lugarActual.nombre);\n      }\n      nuevoResumen.recolecciones.push({\n        lugar: lugarActual.nombre,\n        cantidad: totalGuardado,\n        fecha: new Date().toLocaleString('es-ES'),\n        bidones: bidonesConCantidad.length\n      });\n      setResumenCiclo(nuevoResumen);\n      setMensaje(`‚úÖ ${bidonesConCantidad.length} bid√≥n(es) guardado(s) - Total: ${totalGuardado.toFixed(2)} lbs`);\n      setTimeout(() => {\n        setLugarActual(null);\n        setBidones([{\n          id: 1,\n          cantidad: ''\n        }]);\n        setMensaje('');\n      }, 1500);\n    } catch (error) {\n      setMensaje('‚ùå Error: ' + error.message);\n    }\n    setLoading(false);\n  };\n  const cambiarLugar = () => {\n    setLugarActual(null);\n    setBidones([{\n      id: 1,\n      cantidad: ''\n    }]);\n    setMensaje('');\n  };\n  const cerrarCiclo = async () => {\n    if (!window.confirm('¬øCerrar este ciclo? No podr√°s agregar m√°s recolecciones')) {\n      return;\n    }\n    setLoading(true);\n    try {\n      const {\n        error\n      } = await supabase.from('ciclos_recoleccion').update({\n        estado: 'Cerrado',\n        fecha_cierre: new Date().toISOString(),\n        total_libras: resumenCiclo.totalLibras,\n        total_lugares: resumenCiclo.lugaresVisitados.length\n      }).eq('id', cicloActual.id);\n      if (error) throw error;\n      setMensaje('‚úÖ Ciclo cerrado correctamente');\n      setTimeout(() => {\n        setCicloActual(null);\n        setIniciado(false);\n        setMostrarModalCiclo(true);\n        setPersonaResponsable('');\n        setResumenCiclo({\n          totalLibras: 0,\n          lugaresVisitados: [],\n          recolecciones: []\n        });\n        setMensaje('');\n      }, 2000);\n    } catch (error) {\n      setMensaje('‚ùå Error: ' + error.message);\n    }\n    setLoading(false);\n  };\n\n  // MODAL CICLO\n  if (mostrarModalCiclo && !cicloActual) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-header\",\n        children: [/*#__PURE__*/_jsxDEV(Droplet, {\n          size: 32,\n          color: \"#2563eb\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Control de Aceite Quemado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-ciclo\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Crear Nuevo Ciclo de Recolecci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ciclo-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Ciclo Autom\\xE1tico:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: generarNombreCiclo()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Persona Responsable *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: personaResponsable,\n              onChange: e => setPersonaResponsable(e.target.value),\n              placeholder: \"Ej: Juan Garc\\xEDa\",\n              className: \"input-text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), mensaje && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `mensaje ${mensaje.includes('‚ùå') ? 'error' : 'exito'}`,\n          children: mensaje\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: crearCiclo,\n          disabled: loading || !personaResponsable.trim(),\n          className: \"btn-crear-ciclo\",\n          children: loading ? '‚è≥ Creando...' : '‚úÖ Crear Ciclo'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this);\n  }\n\n  // PANTALLA PRINCIPAL - SIN LUGAR SELECCIONADO\n  if (!lugarActual) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-header\",\n        children: [/*#__PURE__*/_jsxDEV(Droplet, {\n          size: 32,\n          color: \"#2563eb\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Control de Aceite Quemado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), cicloActual && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-ciclo\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ciclo-titulo\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: nombreCiclo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"responsable\",\n            children: [\"Por: \", personaResponsable]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ciclo-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label\",\n              children: \"Total Recolectado:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"valor\",\n              children: [resumenCiclo.totalLibras.toFixed(2), \" lbs\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label\",\n              children: \"Lugares Visitados:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"valor\",\n              children: resumenCiclo.lugaresVisitados.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selector-lugar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Selecciona lugar de recolecci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lista-lugares\",\n          children: lugares.map(lugar => {\n            const visitado = resumenCiclo.lugaresVisitados.includes(lugar.nombre);\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => iniciarRecoleccion(lugar),\n              className: `btn-lugar ${visitado ? 'visitado' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"lugar-nombre\",\n                children: [visitado && '‚úÖ ', \" \", lugar.nombre]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"lugar-codigo\",\n                children: [\"C\\xF3digo: \", lugar.codigo_tienda]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)]\n            }, lugar.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), cicloActual && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: cerrarCiclo,\n        disabled: loading,\n        className: \"btn-cerrar-ciclo\",\n        children: \"\\uD83D\\uDD12 Cerrar Ciclo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this);\n  }\n\n  // PANTALLA - CON LUGAR SELECCIONADO\n  const total = calcularTotal();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-header\",\n      children: [/*#__PURE__*/_jsxDEV(Droplet, {\n        size: 32,\n        color: \"#2563eb\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Control de Aceite Quemado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"info-lugar\",\n          children: [\"Ciclo: \", nombreCiclo]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lugar-actual\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: lugarActual.nombre\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"codigo\",\n        children: [\"C\\xF3digo: \", lugarActual.codigo_tienda]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }, this), mensaje && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mensaje ${mensaje.includes('‚ùå') ? 'error' : 'exito'}`,\n      children: mensaje\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"aceite-tipo\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Tipo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), \" Aceite Quemado\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bidones-seccion\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label-libras\",\n        children: \"Libras\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), bidones.map((bidon, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fila-bidon\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"nombre-bidon\",\n          children: [\"Bid\\xF3n \", bidon.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.1\",\n          min: \"0\",\n          value: bidon.cantidad,\n          onChange: e => handleBidonChange(index, e.target.value),\n          placeholder: \"0\",\n          className: \"input-cantidad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }, this), bidones.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => eliminarBidon(index),\n          className: \"btn-eliminar\",\n          title: \"Eliminar\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"total-recolectado\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Total Recolectado:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"valor-total\",\n        children: [total.toFixed(2), \" lbs\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"botones-accion\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: guardarRecoleccion,\n        disabled: loading || total === 0,\n        className: \"btn-guardar\",\n        children: loading ? '‚è≥ Guardando...' : 'üíæ Guardar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: cambiarLugar,\n        disabled: loading,\n        className: \"btn-cambiar\",\n        children: \"\\uD83D\\uDD04 Cambiar Lugar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 387,\n    columnNumber: 5\n  }, this);\n}\n_s(FormRecoleccion, \"PTyLW8ZenDB90J3j9VLEIwF5xoU=\");\n_c = FormRecoleccion;\nvar _c;\n$RefreshReg$(_c, \"FormRecoleccion\");","map":{"version":3,"names":["React","useState","useEffect","supabase","Droplet","Plus","X","jsxDEV","_jsxDEV","FormRecoleccion","_s","lugares","setLugares","lugarActual","setLugarActual","bidones","setBidones","id","cantidad","loading","setLoading","mensaje","setMensaje","iniciado","setIniciado","cicloActual","setCicloActual","mostrarModalCiclo","setMostrarModalCiclo","personaResponsable","setPersonaResponsable","nombreCiclo","setNombreCiclo","resumenCiclo","setResumenCiclo","totalLibras","lugaresVisitados","recolecciones","indexActual","setIndexActual","cargarLugares","data","error","from","select","order","console","length","generarNombreCiclo","ahora","Date","meses","mes","getMonth","ano","getFullYear","crearCiclo","trim","mesAno","ciclosExistentes","errorBusqueda","eq","numeroCiclo","nombreCompleto","insert","nombre","mes_ano","numero_ciclo","persona_responsable","estado","total_libras","total_lugares","setTimeout","message","iniciarRecoleccion","lugarSeleccionado","index","findIndex","l","handleBidonChange","valor","nuevosBidones","push","eliminarBidon","filter","_","i","forEach","bidon","calcularTotal","reduce","sum","parseFloat","guardarRecoleccion","bidonesConCantidad","b","totalGuardado","lugar_id","tipo_aceite","observaciones","fecha_recepcion","toISOString","recolector_nombre","ciclo_id","nuevoResumen","includes","lugar","fecha","toLocaleString","toFixed","cambiarLugar","cerrarCiclo","window","confirm","update","fecha_cierre","className","children","size","color","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","disabled","map","visitado","codigo_tienda","total","step","min","title","_c","$RefreshReg$"],"sources":["C:/Users/arnol/OneDrive/2018 - 2020/Escritorio/2026/Sistemas/Control Aceite/src/components/FormRecoleccion.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { supabase } from '../utils/supabaseClient'\r\nimport { Droplet, Plus, X } from 'lucide-react'\r\nimport './FormRecoleccion.css'\r\n\r\nexport default function FormRecoleccion() {\r\n  const [lugares, setLugares] = useState([])\r\n  const [lugarActual, setLugarActual] = useState(null)\r\n  const [bidones, setBidones] = useState([{ id: 1, cantidad: '' }])\r\n  const [loading, setLoading] = useState(false)\r\n  const [mensaje, setMensaje] = useState('')\r\n  const [iniciado, setIniciado] = useState(false)\r\n\r\n  // CICLO\r\n  const [cicloActual, setCicloActual] = useState(null)\r\n  const [mostrarModalCiclo, setMostrarModalCiclo] = useState(true)\r\n  const [personaResponsable, setPersonaResponsable] = useState('')\r\n  const [nombreCiclo, setNombreCiclo] = useState('')\r\n  const [resumenCiclo, setResumenCiclo] = useState({\r\n    totalLibras: 0,\r\n    lugaresVisitados: [],\r\n    recolecciones: []\r\n  })\r\n\r\n  // SELECTOR LUGAR\r\n  const [indexActual, setIndexActual] = useState(0)\r\n\r\n  useEffect(() => {\r\n    cargarLugares()\r\n  }, [])\r\n\r\n  const cargarLugares = async () => {\r\n    const { data, error } = await supabase\r\n      .from('lugares')\r\n      .select('*')\r\n      .order('id')\r\n\r\n    if (error) {\r\n      console.error('Error:', error)\r\n      return\r\n    }\r\n\r\n    if (data && data.length > 0) {\r\n      setLugares(data)\r\n    }\r\n  }\r\n\r\n  // Generar nombre autom√°tico del ciclo\r\n  const generarNombreCiclo = () => {\r\n    const ahora = new Date()\r\n    const meses = [\r\n      'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',\r\n      'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'\r\n    ]\r\n    const mes = meses[ahora.getMonth()]\r\n    const ano = ahora.getFullYear()\r\n    return `${mes} ${ano}`\r\n  }\r\n\r\n  const crearCiclo = async () => {\r\n    if (!personaResponsable.trim()) {\r\n      setMensaje('‚ùå Ingresa el nombre de la persona responsable')\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n\r\n    try {\r\n      // Obtener ciclos del mes actual para saber el n√∫mero\r\n      const mesAno = generarNombreCiclo()\r\n      const { data: ciclosExistentes, error: errorBusqueda } = await supabase\r\n        .from('ciclos_recoleccion')\r\n        .select('numero_ciclo')\r\n        .eq('mes_ano', mesAno)\r\n\r\n      if (errorBusqueda) throw errorBusqueda\r\n\r\n      const numeroCiclo = (ciclosExistentes?.length || 0) + 1\r\n      const nombreCompleto = `${mesAno} - Ciclo ${numeroCiclo}`\r\n\r\n      // Crear ciclo\r\n      const { data, error } = await supabase\r\n        .from('ciclos_recoleccion')\r\n        .insert([\r\n          {\r\n            nombre: nombreCompleto,\r\n            mes_ano: mesAno,\r\n            numero_ciclo: numeroCiclo,\r\n            persona_responsable: personaResponsable,\r\n            estado: 'Abierto',\r\n            total_libras: 0,\r\n            total_lugares: 0\r\n          }\r\n        ])\r\n        .select()\r\n\r\n      if (error) throw error\r\n\r\n      setCicloActual(data[0])\r\n      setNombreCiclo(nombreCompleto)\r\n      setMostrarModalCiclo(false)\r\n      setIniciado(true)\r\n\r\n      setMensaje(`‚úÖ Ciclo creado: ${nombreCompleto}`)\r\n      setTimeout(() => setMensaje(''), 2000)\r\n    } catch (error) {\r\n      setMensaje('‚ùå Error: ' + error.message)\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  const iniciarRecoleccion = (lugarSeleccionado) => {\r\n    const index = lugares.findIndex((l) => l.id === lugarSeleccionado.id)\r\n    setIndexActual(index)\r\n    setLugarActual(lugarSeleccionado)\r\n    setBidones([{ id: 1, cantidad: '' }])\r\n  }\r\n\r\n  const handleBidonChange = (index, valor) => {\r\n    const nuevosBidones = [...bidones]\r\n    nuevosBidones[index].cantidad = valor\r\n\r\n    if (valor && index === bidones.length - 1) {\r\n      nuevosBidones.push({\r\n        id: bidones.length + 1,\r\n        cantidad: ''\r\n      })\r\n    }\r\n\r\n    setBidones(nuevosBidones)\r\n  }\r\n\r\n  const eliminarBidon = (index) => {\r\n    if (bidones.length > 1) {\r\n      const nuevosBidones = bidones.filter((_, i) => i !== index)\r\n      nuevosBidones.forEach((bidon, i) => {\r\n        bidon.id = i + 1\r\n      })\r\n      setBidones(nuevosBidones)\r\n    }\r\n  }\r\n\r\n  const calcularTotal = () => {\r\n    return bidones.reduce((sum, bidon) => {\r\n      return sum + (parseFloat(bidon.cantidad) || 0)\r\n    }, 0)\r\n  }\r\n\r\n  const guardarRecoleccion = async () => {\r\n    if (!lugarActual) {\r\n      setMensaje('‚ùå Selecciona un lugar')\r\n      return\r\n    }\r\n\r\n    const bidonesConCantidad = bidones.filter(\r\n      (b) => b.cantidad && parseFloat(b.cantidad) > 0\r\n    )\r\n\r\n    if (bidonesConCantidad.length === 0) {\r\n      setMensaje('‚ùå Ingresa al menos una cantidad')\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n    setMensaje('')\r\n\r\n    try {\r\n      let totalGuardado = 0\r\n\r\n      for (const bidon of bidonesConCantidad) {\r\n        const { error } = await supabase.from('recepciones').insert([\r\n          {\r\n            lugar_id: lugarActual.id,\r\n            tipo_aceite: 'Aceite Quemado',\r\n            cantidad: parseFloat(bidon.cantidad),\r\n            observaciones: `Bid√≥n #${bidon.id}`,\r\n            fecha_recepcion: new Date().toISOString(),\r\n            recolector_nombre: personaResponsable,\r\n            ciclo_id: cicloActual.id\r\n          }\r\n        ])\r\n\r\n        if (error) throw error\r\n        totalGuardado += parseFloat(bidon.cantidad)\r\n      }\r\n\r\n      // Actualizar resumen del ciclo\r\n      const nuevoResumen = { ...resumenCiclo }\r\n      nuevoResumen.totalLibras += totalGuardado\r\n\r\n      if (!nuevoResumen.lugaresVisitados.includes(lugarActual.nombre)) {\r\n        nuevoResumen.lugaresVisitados.push(lugarActual.nombre)\r\n      }\r\n\r\n      nuevoResumen.recolecciones.push({\r\n        lugar: lugarActual.nombre,\r\n        cantidad: totalGuardado,\r\n        fecha: new Date().toLocaleString('es-ES'),\r\n        bidones: bidonesConCantidad.length\r\n      })\r\n\r\n      setResumenCiclo(nuevoResumen)\r\n\r\n      setMensaje(\r\n        `‚úÖ ${bidonesConCantidad.length} bid√≥n(es) guardado(s) - Total: ${totalGuardado.toFixed(2)} lbs`\r\n      )\r\n\r\n      setTimeout(() => {\r\n        setLugarActual(null)\r\n        setBidones([{ id: 1, cantidad: '' }])\r\n        setMensaje('')\r\n      }, 1500)\r\n    } catch (error) {\r\n      setMensaje('‚ùå Error: ' + error.message)\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  const cambiarLugar = () => {\r\n    setLugarActual(null)\r\n    setBidones([{ id: 1, cantidad: '' }])\r\n    setMensaje('')\r\n  }\r\n\r\n  const cerrarCiclo = async () => {\r\n    if (!window.confirm('¬øCerrar este ciclo? No podr√°s agregar m√°s recolecciones')) {\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('ciclos_recoleccion')\r\n        .update({\r\n          estado: 'Cerrado',\r\n          fecha_cierre: new Date().toISOString(),\r\n          total_libras: resumenCiclo.totalLibras,\r\n          total_lugares: resumenCiclo.lugaresVisitados.length\r\n        })\r\n        .eq('id', cicloActual.id)\r\n\r\n      if (error) throw error\r\n\r\n      setMensaje('‚úÖ Ciclo cerrado correctamente')\r\n      setTimeout(() => {\r\n        setCicloActual(null)\r\n        setIniciado(false)\r\n        setMostrarModalCiclo(true)\r\n        setPersonaResponsable('')\r\n        setResumenCiclo({\r\n          totalLibras: 0,\r\n          lugaresVisitados: [],\r\n          recolecciones: []\r\n        })\r\n        setMensaje('')\r\n      }, 2000)\r\n    } catch (error) {\r\n      setMensaje('‚ùå Error: ' + error.message)\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  // MODAL CICLO\r\n  if (mostrarModalCiclo && !cicloActual) {\r\n    return (\r\n      <div className=\"form-container\">\r\n        <div className=\"form-header\">\r\n          <Droplet size={32} color=\"#2563eb\" />\r\n          <div>\r\n            <h1>Control de Aceite Quemado</h1>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"modal-ciclo\">\r\n          <h2>Crear Nuevo Ciclo de Recolecci√≥n</h2>\r\n\r\n          <div className=\"ciclo-info\">\r\n            <div className=\"info-item\">\r\n              <label>Ciclo Autom√°tico:</label>\r\n              <p>{generarNombreCiclo()}</p>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Persona Responsable *</label>\r\n              <input\r\n                type=\"text\"\r\n                value={personaResponsable}\r\n                onChange={(e) => setPersonaResponsable(e.target.value)}\r\n                placeholder=\"Ej: Juan Garc√≠a\"\r\n                className=\"input-text\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {mensaje && (\r\n            <div className={`mensaje ${mensaje.includes('‚ùå') ? 'error' : 'exito'}`}>\r\n              {mensaje}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            onClick={crearCiclo}\r\n            disabled={loading || !personaResponsable.trim()}\r\n            className=\"btn-crear-ciclo\"\r\n          >\r\n            {loading ? '‚è≥ Creando...' : '‚úÖ Crear Ciclo'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // PANTALLA PRINCIPAL - SIN LUGAR SELECCIONADO\r\n  if (!lugarActual) {\r\n    return (\r\n      <div className=\"form-container\">\r\n        <div className=\"form-header\">\r\n          <Droplet size={32} color=\"#2563eb\" />\r\n          <div>\r\n            <h1>Control de Aceite Quemado</h1>\r\n          </div>\r\n        </div>\r\n\r\n        {/* INFORMACI√ìN DEL CICLO */}\r\n        {cicloActual && (\r\n          <div className=\"info-ciclo\">\r\n            <div className=\"ciclo-titulo\">\r\n              <h3>{nombreCiclo}</h3>\r\n              <span className=\"responsable\">Por: {personaResponsable}</span>\r\n            </div>\r\n            <div className=\"ciclo-stats\">\r\n              <div className=\"stat\">\r\n                <span className=\"label\">Total Recolectado:</span>\r\n                <span className=\"valor\">{resumenCiclo.totalLibras.toFixed(2)} lbs</span>\r\n              </div>\r\n              <div className=\"stat\">\r\n                <span className=\"label\">Lugares Visitados:</span>\r\n                <span className=\"valor\">{resumenCiclo.lugaresVisitados.length}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"selector-lugar\">\r\n          <h2>Selecciona lugar de recolecci√≥n</h2>\r\n\r\n          <div className=\"lista-lugares\">\r\n            {lugares.map((lugar) => {\r\n              const visitado = resumenCiclo.lugaresVisitados.includes(lugar.nombre)\r\n              return (\r\n                <button\r\n                  key={lugar.id}\r\n                  onClick={() => iniciarRecoleccion(lugar)}\r\n                  className={`btn-lugar ${visitado ? 'visitado' : ''}`}\r\n                >\r\n                  <div className=\"lugar-nombre\">\r\n                    {visitado && '‚úÖ '} {lugar.nombre}\r\n                  </div>\r\n                  <div className=\"lugar-codigo\">C√≥digo: {lugar.codigo_tienda}</div>\r\n                </button>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {cicloActual && (\r\n          <button\r\n            onClick={cerrarCiclo}\r\n            disabled={loading}\r\n            className=\"btn-cerrar-ciclo\"\r\n          >\r\n            üîí Cerrar Ciclo\r\n          </button>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // PANTALLA - CON LUGAR SELECCIONADO\r\n  const total = calcularTotal()\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <div className=\"form-header\">\r\n        <Droplet size={32} color=\"#2563eb\" />\r\n        <div>\r\n          <h1>Control de Aceite Quemado</h1>\r\n          <p className=\"info-lugar\">Ciclo: {nombreCiclo}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* UBICACI√ìN ACTUAL */}\r\n      <div className=\"lugar-actual\">\r\n        <h2>{lugarActual.nombre}</h2>\r\n        <span className=\"codigo\">C√≥digo: {lugarActual.codigo_tienda}</span>\r\n      </div>\r\n\r\n      {/* MENSAJE */}\r\n      {mensaje && (\r\n        <div className={`mensaje ${mensaje.includes('‚ùå') ? 'error' : 'exito'}`}>\r\n          {mensaje}\r\n        </div>\r\n      )}\r\n\r\n      {/* TIPO ACEITE FIJO */}\r\n      <div className=\"aceite-tipo\">\r\n        <strong>Tipo:</strong> Aceite Quemado\r\n      </div>\r\n\r\n      {/* BIDONES */}\r\n      <div className=\"bidones-seccion\">\r\n        <label className=\"label-libras\">Libras</label>\r\n\r\n        {bidones.map((bidon, index) => (\r\n          <div key={index} className=\"fila-bidon\">\r\n            <span className=\"nombre-bidon\">Bid√≥n {bidon.id}</span>\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.1\"\r\n              min=\"0\"\r\n              value={bidon.cantidad}\r\n              onChange={(e) => handleBidonChange(index, e.target.value)}\r\n              placeholder=\"0\"\r\n              className=\"input-cantidad\"\r\n            />\r\n            {bidones.length > 1 && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => eliminarBidon(index)}\r\n                className=\"btn-eliminar\"\r\n                title=\"Eliminar\"\r\n              >\r\n                ‚úï\r\n              </button>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* TOTAL */}\r\n      <div className=\"total-recolectado\">\r\n        <span>Total Recolectado:</span>\r\n        <span className=\"valor-total\">{total.toFixed(2)} lbs</span>\r\n      </div>\r\n\r\n      {/* BOTONES */}\r\n      <div className=\"botones-accion\">\r\n        <button\r\n          onClick={guardarRecoleccion}\r\n          disabled={loading || total === 0}\r\n          className=\"btn-guardar\"\r\n        >\r\n          {loading ? '‚è≥ Guardando...' : 'üíæ Guardar'}\r\n        </button>\r\n\r\n        <button\r\n          onClick={cambiarLugar}\r\n          disabled={loading}\r\n          className=\"btn-cambiar\"\r\n        >\r\n          üîÑ Cambiar Lugar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}