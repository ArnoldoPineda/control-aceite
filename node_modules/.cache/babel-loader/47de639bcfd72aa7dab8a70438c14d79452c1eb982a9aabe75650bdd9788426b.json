{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arnol\\\\OneDrive\\\\2018 - 2020\\\\Escritorio\\\\2026\\\\Sistemas\\\\Control Aceite\\\\src\\\\components\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from '../utils/supabaseClient';\nimport { BarChart3, TrendingUp, Droplets, MapPin, Calendar, Target } from 'lucide-react';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [stats, setStats] = useState({\n    totalLibras: 0,\n    totalCiclos: 0,\n    ciclosCompletados: 0,\n    promedioLibrasPorCiclo: 0,\n    ultimoCiclo: null,\n    tiposAceite: {},\n    porCentro: {},\n    centrosTop3: []\n  });\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchStats();\n  }, []);\n  const fetchStats = async () => {\n    setLoading(true);\n    try {\n      // 1. Obtener todos los ciclos\n      const {\n        data: ciclos\n      } = await supabase.from('ciclos_recoleccion').select('*').order('created_at', {\n        ascending: false\n      });\n\n      // 2. Obtener todas las recepciones\n      const {\n        data: recepciones\n      } = await supabase.from('recepciones').select('cantidad, tipo_aceite, lugar_id, ciclo_id');\n\n      // 3. Obtener lugares\n      const {\n        data: lugares\n      } = await supabase.from('lugares').select('id, nombre');\n      if (recepciones && ciclos) {\n        // Total libras consolidado\n        const totalLibras = parseFloat(recepciones.reduce((sum, r) => sum + (r.cantidad || 0), 0).toFixed(2));\n\n        // Ciclos completados\n        const ciclosCompletados = ciclos.filter(c => c.estado === 'Cerrado').length;\n\n        // Promedio libras por ciclo\n        const promedioLibrasPorCiclo = ciclos.length > 0 ? parseFloat((totalLibras / ciclos.length).toFixed(2)) : 0;\n\n        // √öltimo ciclo\n        const ultimoCiclo = ciclos.length > 0 ? ciclos[0] : null;\n\n        // Agrupar por tipo de aceite\n        const tipos = {};\n        recepciones.forEach(r => {\n          tipos[r.tipo_aceite] = (tipos[r.tipo_aceite] || 0) + r.cantidad;\n        });\n\n        // Agrupar por centro (lugar)\n        const porCentro = {};\n        const centrosData = [];\n        if (lugares) {\n          lugares.forEach(l => {\n            const cantidadCentro = recepciones.filter(r => r.lugar_id === l.id).reduce((sum, r) => sum + r.cantidad, 0);\n            if (cantidadCentro > 0) {\n              porCentro[l.nombre] = parseFloat(cantidadCentro.toFixed(2));\n              centrosData.push({\n                nombre: l.nombre,\n                cantidad: parseFloat(cantidadCentro.toFixed(2))\n              });\n            }\n          });\n        }\n\n        // Top 3 centros\n        const centrosTop3 = centrosData.sort((a, b) => b.cantidad - a.cantidad).slice(0, 3);\n        setStats({\n          totalLibras: totalLibras,\n          totalCiclos: ciclos.length,\n          ciclosCompletados: ciclosCompletados,\n          promedioLibrasPorCiclo: promedioLibrasPorCiclo,\n          ultimoCiclo: ultimoCiclo,\n          tiposAceite: tipos,\n          porCentro: porCentro,\n          centrosTop3: centrosTop3\n        });\n      }\n    } catch (error) {\n      console.error('Error cargando estad√≠sticas:', error);\n    }\n    setLoading(false);\n  };\n  const formatearLibras = numero => {\n    return parseFloat(numero || 0).toFixed(2);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 60\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n        size: 32,\n        color: \"white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Dashboard de Control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card total\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Droplets, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Total Recolectado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: [formatearLibras(stats.totalLibras), \" lbs\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card ciclos\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Calendar, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Ciclos Completados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: [stats.ciclosCompletados, \"/\", stats.totalCiclos]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card promedio\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Target, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Promedio por Ciclo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: [formatearLibras(stats.promedioLibrasPorCiclo), \" lbs\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card centros\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(MapPin, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Centros Activos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: Object.keys(stats.porCentro).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), stats.ultimoCiclo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ultimo-ciclo-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\xDAltimo Ciclo Procesado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ciclo-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ciclo-detalle\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"Nombre:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"valor\",\n            children: stats.ultimoCiclo.nombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ciclo-detalle\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"Responsable:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"valor\",\n            children: stats.ultimoCiclo.persona_responsable\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ciclo-detalle\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"Total Libras:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"valor\",\n            children: [formatearLibras(stats.ultimoCiclo.total_libras), \" lbs\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ciclo-detalle\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"Lugares Visitados:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"valor\",\n            children: stats.ultimoCiclo.total_lugares\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ciclo-detalle\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"Estado:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `estado ${stats.ultimoCiclo.estado.toLowerCase()}`,\n            children: stats.ultimoCiclo.estado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"charts-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box top-centros\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83C\\uDFC6 Top 3 Centros de Recolecci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-centros-list\",\n          children: stats.centrosTop3.length > 0 ? stats.centrosTop3.map((centro, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"top-centro-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"top-posicion\",\n              children: [\"#\", index + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"top-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"top-nombre\",\n                children: centro.nombre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"top-barra\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"top-relleno\",\n                  style: {\n                    width: `${centro.cantidad / stats.totalLibras * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"top-valor\",\n              children: [formatearLibras(centro.cantidad), \" lbs\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this)]\n          }, centro.nombre, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"sin-datos\",\n            children: \"No hay datos disponibles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box por-centros\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Distribuci\\xF3n por Centro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-items\",\n          children: Object.entries(stats.porCentro).length > 0 ? Object.entries(stats.porCentro).map(([centro, cantidad]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"chart-label\",\n              children: centro\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-fill\",\n                style: {\n                  width: `${cantidad / stats.totalLibras * 100}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"chart-value\",\n              children: [formatearLibras(cantidad), \" lbs\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 19\n            }, this)]\n          }, centro, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"sin-datos\",\n            children: \"No hay datos disponibles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), Object.keys(stats.tiposAceite).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-box tipos-aceite\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Tipos de Aceite Recolectado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-items\",\n        children: Object.entries(stats.tiposAceite).map(([tipo, cantidad]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"chart-label\",\n            children: tipo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-bar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-fill\",\n              style: {\n                width: `${cantidad / stats.totalLibras * 100}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"chart-value\",\n            children: [formatearLibras(cantidad), \" lbs\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }, this)]\n        }, tipo, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchStats,\n      className: \"btn-refresh\",\n      children: \"\\uD83D\\uDD04 Actualizar datos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"nbT3ErWXxBTJZIaLLDodvIQ5dtE=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","supabase","BarChart3","TrendingUp","Droplets","MapPin","Calendar","Target","jsxDEV","_jsxDEV","Dashboard","_s","stats","setStats","totalLibras","totalCiclos","ciclosCompletados","promedioLibrasPorCiclo","ultimoCiclo","tiposAceite","porCentro","centrosTop3","loading","setLoading","fetchStats","data","ciclos","from","select","order","ascending","recepciones","lugares","parseFloat","reduce","sum","r","cantidad","toFixed","filter","c","estado","length","tipos","forEach","tipo_aceite","centrosData","l","cantidadCentro","lugar_id","id","nombre","push","sort","a","b","slice","error","console","formatearLibras","numero","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","color","Object","keys","persona_responsable","total_libras","total_lugares","toLowerCase","map","centro","index","style","width","entries","tipo","onClick","_c","$RefreshReg$"],"sources":["C:/Users/arnol/OneDrive/2018 - 2020/Escritorio/2026/Sistemas/Control Aceite/src/components/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { supabase } from '../utils/supabaseClient'\r\nimport { BarChart3, TrendingUp, Droplets, MapPin, Calendar, Target } from 'lucide-react'\r\nimport './Dashboard.css'\r\n\r\nexport default function Dashboard() {\r\n  const [stats, setStats] = useState({\r\n    totalLibras: 0,\r\n    totalCiclos: 0,\r\n    ciclosCompletados: 0,\r\n    promedioLibrasPorCiclo: 0,\r\n    ultimoCiclo: null,\r\n    tiposAceite: {},\r\n    porCentro: {},\r\n    centrosTop3: []\r\n  })\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    fetchStats()\r\n  }, [])\r\n\r\n  const fetchStats = async () => {\r\n    setLoading(true)\r\n    \r\n    try {\r\n      // 1. Obtener todos los ciclos\r\n      const { data: ciclos } = await supabase\r\n        .from('ciclos_recoleccion')\r\n        .select('*')\r\n        .order('created_at', { ascending: false })\r\n\r\n      // 2. Obtener todas las recepciones\r\n      const { data: recepciones } = await supabase\r\n        .from('recepciones')\r\n        .select('cantidad, tipo_aceite, lugar_id, ciclo_id')\r\n\r\n      // 3. Obtener lugares\r\n      const { data: lugares } = await supabase\r\n        .from('lugares')\r\n        .select('id, nombre')\r\n\r\n      if (recepciones && ciclos) {\r\n        // Total libras consolidado\r\n        const totalLibras = parseFloat(\r\n          recepciones.reduce((sum, r) => sum + (r.cantidad || 0), 0).toFixed(2)\r\n        )\r\n\r\n        // Ciclos completados\r\n        const ciclosCompletados = ciclos.filter(c => c.estado === 'Cerrado').length\r\n\r\n        // Promedio libras por ciclo\r\n        const promedioLibrasPorCiclo = ciclos.length > 0 \r\n          ? parseFloat((totalLibras / ciclos.length).toFixed(2))\r\n          : 0\r\n\r\n        // √öltimo ciclo\r\n        const ultimoCiclo = ciclos.length > 0 ? ciclos[0] : null\r\n\r\n        // Agrupar por tipo de aceite\r\n        const tipos = {}\r\n        recepciones.forEach(r => {\r\n          tipos[r.tipo_aceite] = (tipos[r.tipo_aceite] || 0) + r.cantidad\r\n        })\r\n\r\n        // Agrupar por centro (lugar)\r\n        const porCentro = {}\r\n        const centrosData = []\r\n\r\n        if (lugares) {\r\n          lugares.forEach(l => {\r\n            const cantidadCentro = recepciones\r\n              .filter(r => r.lugar_id === l.id)\r\n              .reduce((sum, r) => sum + r.cantidad, 0)\r\n            \r\n            if (cantidadCentro > 0) {\r\n              porCentro[l.nombre] = parseFloat(cantidadCentro.toFixed(2))\r\n              centrosData.push({\r\n                nombre: l.nombre,\r\n                cantidad: parseFloat(cantidadCentro.toFixed(2))\r\n              })\r\n            }\r\n          })\r\n        }\r\n\r\n        // Top 3 centros\r\n        const centrosTop3 = centrosData\r\n          .sort((a, b) => b.cantidad - a.cantidad)\r\n          .slice(0, 3)\r\n\r\n        setStats({\r\n          totalLibras: totalLibras,\r\n          totalCiclos: ciclos.length,\r\n          ciclosCompletados: ciclosCompletados,\r\n          promedioLibrasPorCiclo: promedioLibrasPorCiclo,\r\n          ultimoCiclo: ultimoCiclo,\r\n          tiposAceite: tipos,\r\n          porCentro: porCentro,\r\n          centrosTop3: centrosTop3\r\n        })\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando estad√≠sticas:', error)\r\n    }\r\n    \r\n    setLoading(false)\r\n  }\r\n\r\n  const formatearLibras = (numero) => {\r\n    return parseFloat(numero || 0).toFixed(2)\r\n  }\r\n\r\n  if (loading) return <div className=\"dashboard-container\"><p>Cargando...</p></div>\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <div className=\"dashboard-header\">\r\n        <BarChart3 size={32} color=\"white\" />\r\n        <h1>Dashboard de Control</h1>\r\n      </div>\r\n\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card total\">\r\n          <div className=\"stat-icon\">\r\n            <Droplets size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <h3>Total Recolectado</h3>\r\n            <p className=\"stat-value\">{formatearLibras(stats.totalLibras)} lbs</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card ciclos\">\r\n          <div className=\"stat-icon\">\r\n            <Calendar size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <h3>Ciclos Completados</h3>\r\n            <p className=\"stat-value\">{stats.ciclosCompletados}/{stats.totalCiclos}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card promedio\">\r\n          <div className=\"stat-icon\">\r\n            <Target size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <h3>Promedio por Ciclo</h3>\r\n            <p className=\"stat-value\">{formatearLibras(stats.promedioLibrasPorCiclo)} lbs</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card centros\">\r\n          <div className=\"stat-icon\">\r\n            <MapPin size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <h3>Centros Activos</h3>\r\n            <p className=\"stat-value\">{Object.keys(stats.porCentro).length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {stats.ultimoCiclo && (\r\n        <div className=\"ultimo-ciclo-card\">\r\n          <h3>√öltimo Ciclo Procesado</h3>\r\n          <div className=\"ciclo-info\">\r\n            <div className=\"ciclo-detalle\">\r\n              <span className=\"label\">Nombre:</span>\r\n              <span className=\"valor\">{stats.ultimoCiclo.nombre}</span>\r\n            </div>\r\n            <div className=\"ciclo-detalle\">\r\n              <span className=\"label\">Responsable:</span>\r\n              <span className=\"valor\">{stats.ultimoCiclo.persona_responsable}</span>\r\n            </div>\r\n            <div className=\"ciclo-detalle\">\r\n              <span className=\"label\">Total Libras:</span>\r\n              <span className=\"valor\">{formatearLibras(stats.ultimoCiclo.total_libras)} lbs</span>\r\n            </div>\r\n            <div className=\"ciclo-detalle\">\r\n              <span className=\"label\">Lugares Visitados:</span>\r\n              <span className=\"valor\">{stats.ultimoCiclo.total_lugares}</span>\r\n            </div>\r\n            <div className=\"ciclo-detalle\">\r\n              <span className=\"label\">Estado:</span>\r\n              <span className={`estado ${stats.ultimoCiclo.estado.toLowerCase()}`}>\r\n                {stats.ultimoCiclo.estado}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"charts-section\">\r\n        <div className=\"chart-box top-centros\">\r\n          <h2>üèÜ Top 3 Centros de Recolecci√≥n</h2>\r\n          <div className=\"top-centros-list\">\r\n            {stats.centrosTop3.length > 0 ? (\r\n              stats.centrosTop3.map((centro, index) => (\r\n                <div key={centro.nombre} className=\"top-centro-item\">\r\n                  <div className=\"top-posicion\">#{index + 1}</div>\r\n                  <div className=\"top-info\">\r\n                    <span className=\"top-nombre\">{centro.nombre}</span>\r\n                    <div className=\"top-barra\">\r\n                      <div \r\n                        className=\"top-relleno\"\r\n                        style={{\r\n                          width: `${(centro.cantidad / stats.totalLibras) * 100}%`\r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n                  <span className=\"top-valor\">{formatearLibras(centro.cantidad)} lbs</span>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"sin-datos\">No hay datos disponibles</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"chart-box por-centros\">\r\n          <h2>Distribuci√≥n por Centro</h2>\r\n          <div className=\"chart-items\">\r\n            {Object.entries(stats.porCentro).length > 0 ? (\r\n              Object.entries(stats.porCentro).map(([centro, cantidad]) => (\r\n                <div key={centro} className=\"chart-item\">\r\n                  <span className=\"chart-label\">{centro}</span>\r\n                  <div className=\"chart-bar\">\r\n                    <div \r\n                      className=\"chart-fill\"\r\n                      style={{\r\n                        width: `${(cantidad / stats.totalLibras) * 100}%`\r\n                      }}\r\n                    ></div>\r\n                  </div>\r\n                  <span className=\"chart-value\">{formatearLibras(cantidad)} lbs</span>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"sin-datos\">No hay datos disponibles</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {Object.keys(stats.tiposAceite).length > 0 && (\r\n        <div className=\"chart-box tipos-aceite\">\r\n          <h2>Tipos de Aceite Recolectado</h2>\r\n          <div className=\"chart-items\">\r\n            {Object.entries(stats.tiposAceite).map(([tipo, cantidad]) => (\r\n              <div key={tipo} className=\"chart-item\">\r\n                <span className=\"chart-label\">{tipo}</span>\r\n                <div className=\"chart-bar\">\r\n                  <div \r\n                    className=\"chart-fill\"\r\n                    style={{\r\n                      width: `${(cantidad / stats.totalLibras) * 100}%`\r\n                    }}\r\n                  ></div>\r\n                </div>\r\n                <span className=\"chart-value\">{formatearLibras(cantidad)} lbs</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <button onClick={fetchStats} className=\"btn-refresh\">\r\n        üîÑ Actualizar datos\r\n      </button>\r\n    </div>\r\n  )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}